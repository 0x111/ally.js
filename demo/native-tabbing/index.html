<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>demo</title>
</head>
<body>

  <input type="text" data-dom="first">

  <div tabindex="-1" data-dom="0">
    <input type="text" data-dom="0-0">
    <input type="text" data-dom="0-1">
    <input type="text" data-dom="0-2" tabindex="0">
    <input type="text" data-dom="0-3" tabindex="5">
    <input type="text" data-dom="0-4">
    <button type="button" data-dom="0-5" tabindex="1">bla</button>
    <input type="text" data-dom="0-6">
    <input type="text" data-dom="0-7" tabindex="0">
    <input type="text" data-dom="0-8" disabled>
    <input type="text" data-dom="0-9">
  </div>

  <div tabindex="-1" data-dom="1">
    <input type="text" data-dom="1-0">
    <input type="text" data-dom="1-1" style="visibility: hidden">
    <input type="text" data-dom="1-2">
    <input type="text" data-dom="1-3" style="display: none">
    <input type="text" data-dom="1-4">
    <input type="text" data-dom="1-5" aria-hidden="true">
    <input type="text" data-dom="1-6">
  </div>

  <div tabindex="33" data-dom="2">
    <input type="text" data-dom="2-0">
    <div style="visibility: hidden">
      <input type="text" data-dom="2-1">
    </div>
    <input type="text" data-dom="2-2">
    <div style="display: none">
      <input type="text" data-dom="2-3">
    </div>
    <input type="text" data-dom="2-4">
    <div aria-hidden="true">
      <input type="text" data-dom="2-5">
    </div>
    <input type="text" data-dom="2-6">
  </div>

  <div tabindex="0" data-dom="3">
    <iframe src="iframe.html" style="width: 300px; height: 50px;" data-dom="3-0"></iframe>
    <input type="text" data-dom="3-1" tabindex="5">
    <input type="text" data-dom="3-2" tabindex="1">
  </div>


  <input type="text" data-dom="last">

  <pre id="log"></pre>
  <script>
    var log = document.getElementById('log');
    log.textContent = navigator.userAgent;
    window.foo = 'index';
    
    document.addEventListener('keydown', function(event) {
      if (event.keyCode === 9) {
        log.textContent += '\n -----------------------------------------';
      }
    }, true);
    
    document.addEventListener('focus', function(event) {
      var _active = document.activeElement && document.activeElement.getAttribute('data-dom');
      var _event = event.target && event.target.getAttribute && event.target.getAttribute('data-dom');
      log.textContent += '\nhtml[' + event.view.foo + ']' + event.target.nodeName + ' ' + _active + ' ' + _event;
    }, true);
  </script>

  <script>
    var expectedSequence = [
      '0-5',
      '3-2',
      '0-3',
      '3-1',
      '2',
      'first',
      '0-0',
      '0-1',
      '0-2',
      '0-4',
      '0-6',
      '0-7',
      '0-9',
      '1-0',
      '1-2',
      '1-4',
      '1-5',
      '1-6',
      '2-0',
      '2-2',
      '2-4',
      '2-5',
      '2-6',
      '3',
      'last'
    ];
  </script>
  <script src="../../bower_components/requirejs/require.js" data-main="native-tabbing"></script>
</body>
</html>
